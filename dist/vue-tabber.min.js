!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).VueTabber=t(e.Vue)}(this,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){switch(e){case!1:case"false":case void 0:case null:return!1}return!0}var o={name:"TabLabel",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1}},render:function(){return null}},l={name:"TabPanel",render:function(){return null}};function c(e,t){var n,r,a,c=[];e&&e.length&&c.push.apply(c,i(e));var u=[],d=[],p=function(){c.push({label:u,panel:d,key:n,disabled:r,hidden:a})};return t&&t.length&&t.forEach((function(e){if(function(e){return e.type===o}(e)){var t;if(u.length&&p(),u=[],e.children&&e.children.default)(t=u).push.apply(t,i(e.children.default()));else u.push("");d=[],n=e.key,r=Boolean(e.props&&s(e.props.disabled)),a=Boolean(e.props&&s(e.props.hidden))}else{var c;if(u.length||u.push(""),function(e){return e.type===l}(e)&&e.children&&e.children.default)(c=d).push.apply(c,i(e.children.default()));else d.push(e)}})),u.length&&p(),c}var u=r(r({},{entries:{type:Array,default:function(){return[]}},mode:{validator:function(e){return["horizontal","vertical"].indexOf(e)>=0},default:"horizontal"},keyboardSwitch:{type:Boolean,default:!0},delayTriggerLatency:{type:[Number,String],default:200},activePosition:{type:[Number,String]},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}}),{},{triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]}}),d=r(r({},u),{},{triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:Array}),p=/\s+/;function h(e){return e?(Array.isArray(e)?e:String(e).split(p)).filter(Boolean):[]}var y="active",f="inactive",g="disabled",b="hidden",v="header",C="footer";function m(e,t){var n={};return e.forEach((function(e){var r="on"+e[0].toUpperCase()+e.substring(1).toLowerCase();n[r]=t})),n}var w="__vue-tabber",S=Number.MAX_SAFE_INTEGER||9007199254740991,T=-1;function x(e,t,n){return"".concat(w,"__").concat(e,"__").concat(t,"__label__").concat(n)}function P(e,t){return"".concat(w,"__").concat(e,"__panel__").concat(t)}var E={name:"VueTabberLabelContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},labelContainerClass:{type:String},labelItemClass:{type:String},delayTriggerLatency:{type:Number},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number},side:{type:String}},methods:{onKeyDown:function(e,t){var n,r=this.$props,i=r.fnSwitchTo,a=r.fnSwitchPrevious,s=r.fnSwitchNext,o=r.fnSwitchFirst,l=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=a();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=s();break;case"Tab":(n=e.shiftKey?a():s())&&e.preventDefault();break;case"Home":n=o();break;case"End":n=l();break;case" ":case"Enter":n=i(t)}if(n){var c=e.currentTarget.parentNode.childNodes[n.index];c&&c.focus&&c.focus(),e.preventDefault()}}},render:function(){var t=this,n=this.$props,i=n.entries,a=n.mode,s=n.keyboardSwitch,o=n.labelContainerClass,l=n.labelItemClass,c=n.delayTriggerLatency,u=n.triggerEvents,d=n.delayTriggerEvents,p=n.delayTriggerCancelEvents,h=n.fnSwitchTo,v=n.tabContext,C=n.currentIndex,w=n.side,S=[o,o+"-"+w,o+"-"+a,o+"-"+w+"-"+a],T=l+"-"+y,E=l+"-"+f,I=l+"-"+g,L=l+"-"+b,k=v.tabberId;return e.h("div",{class:S,attrs:{role:"tablist"}},i.map((function(n,i){var a,o,y,f=n.label,g=n.key,b=n.disabled,S=n.hidden,A={index:i,key:g};if(!b&&!S){var F,O=function(){clearTimeout(v.delayTimeout),h(A)},N=c<=0?O:function(){clearTimeout(v.delayTimeout),F=v.delayTimeout=setTimeout(O,c)};y=m(u,O),d&&d.length&&(o=m(d,N),a=m(p,(function(){F===v.delayTimeout&&clearTimeout(F)})))}var _=i===C,j=[l];j.push(_?T:E),b&&j.push(I),S&&j.push(L);var $={tabIndex:0,id:x(k,w,i),role:"tab","aria-controls":P(k,i),"aria-selected":_,"aria-expanded":_},B=r(r(r({},a),o),y);return s&&(B.keydown=function(e){return t.onKeyDown(e,A)}),e.h("span",r(r(r({class:j},$),B),{},{key:g?"key-"+g:"index-"+i}),f)})))}},I={name:"VueTabberPanelContainer",props:{entries:{type:Array},mode:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},panelItemActiveClass:{type:String},panelItemInactiveClass:{type:String},panelItemDisabledClass:{type:String},panelItemHiddenClass:{type:String},tabContext:{type:Object},currentIndex:{type:Number},refLabelSide:{type:String}},render:function(){var t=this.$props,n=t.entries,r=t.mode,i=t.panelContainerClass,a=t.panelItemClass,s=t.tabContext,o=t.currentIndex,l=t.refLabelSide,c=[i,i+"-"+r],u=a+"-"+y,d=a+"-"+f,p=a+"-"+g,h=a+"-"+b,v=s.tabberId;return e.h("div",{class:c},n.map((function(t,n){var r=t.panel,i=t.key,s=t.disabled,c=t.hidden,y=n===o,f=[a];return f.push(y?u:d),s&&f.push(p),c&&f.push(h),e.h("div",{class:f,id:P(v,n),role:"tabpanel","aria-labelledby":x(v,l,n),"aria-hidden":!y,key:i?"key-"+i:"index-"+n},r)})))}},L={name:"VueTabberTabContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},delayTriggerLatency:{type:Number},showHeaderLabelContainer:{type:Boolean},showFooterLabelContainer:{type:Boolean},tabContainerClass:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number}},render:function(){var t=this.$props,n=t.entries,r=t.mode,i=t.keyboardSwitch,a=t.delayTriggerLatency,s=t.showHeaderLabelContainer,o=t.showFooterLabelContainer,l=t.tabContainerClass,c=t.labelContainerClass,u=t.labelItemClass,d=t.panelContainerClass,p=t.panelItemClass,h=t.triggerEvents,y=t.delayTriggerEvents,f=t.delayTriggerCancelEvents,g=t.fnSwitchTo,b=t.fnSwitchPrevious,m=t.fnSwitchNext,w=t.fnSwitchFirst,S=t.fnSwitchLast,T=t.tabContext,x=t.currentIndex,P=[l,l+"-"+r],L=[];return s&&L.push(e.h(E,{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:u,delayTriggerLatency:a,triggerEvents:h,delayTriggerEvents:y,delayTriggerCancelEvents:f,fnSwitchTo:g,fnSwitchPrevious:b,fnSwitchNext:m,fnSwitchFirst:w,fnSwitchLast:S,tabContext:T,currentIndex:x,side:v})),L.push(e.h(I,{entries:n,mode:r,panelContainerClass:d,panelItemClass:p,tabContext:T,currentIndex:x,refLabelSide:s||!o?v:C})),o&&L.push(e.h(E,{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:u,delayTriggerLatency:a,triggerEvents:h,delayTriggerEvents:y,delayTriggerCancelEvents:f,fnSwitchTo:g,fnSwitchPrevious:b,fnSwitchNext:m,fnSwitchFirst:w,fnSwitchLast:S,tabContext:T,currentIndex:x,side:C})),e.h("div",{class:P},L)}},k={index:-1,key:void 0};function A(e,t){if("number"==typeof t)return{index:t,key:e[t]&&e[t].key};if(isFinite(t)){var n=parseInt(t);return{index:n,key:e[n].key}}if(t){var r=void 0;return e.some((function(e,n){return e.key===t&&(r={index:n,key:e.key},!0)})),r||k}return k}var F=0,O=1,N={name:"VueTabberTab",props:d,created:function(){this.tabContext={tabberId:T=(T+1)%S,delayTimeout:0},this.prevPosition=k,this.currentPosition=k,this.updateTargetPosition()},data:function(){return{manageTargetPosition:!0,targetPosition:-1}},methods:{updateTargetPosition:function(){var e=this.activePosition;null==e||"number"==typeof e&&!isFinite(e)?this.manageTargetPosition=!0:(this.targetPosition=e,this.manageTargetPosition=!1)},updateCurrentPosition:function(){var e=this.prevPosition,t=this.currentPosition;e.index!==t.index&&this.$emit("switched",e,t),this.prevPosition=t},switchTo:function(e){return this.manageTargetPosition?this.targetPosition=e.index:this.$emit("updateActivePosition",e),e},_switchNeighbor:function(e,t,n){var r,i,a,s;n&&(r=n.includeDisabled,i=n.includeHidden,a=n.loop,s=n.exclude);var o=this.$props.entries,l=s?s.map((function(e){return A(o,e).index})):[],c=o.length,u=-1;a?u=e>=0&&e<c?c-1:c:t===F?u=e:t===O&&(u=c-e-1);for(var d=t===F?-1:1,p=1;p<=u;p++){var h=(e+p*d+c)%c;if(!(l.indexOf(h)>=0)){var y=o[h],f=y.disabled,g=y.hidden;if(!f&&!g||r&&!g||!f&&i||r&&i)return this.switchTo(A(o,h))}}},switchPrevious:function(e){return this._switchNeighbor(this.currentPosition.index,F,e)},switchNext:function(e){return this._switchNeighbor(this.currentPosition.index,O,e)},switchFirst:function(e){return this._switchNeighbor(-1,O,e)},switchLast:function(e){return this._switchNeighbor(this.$props.entries.length,F,e)}},watch:{activePosition:function(e){this.updateTargetPosition(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(){var t,n=this.$props,r=n.entries,i=n.mode,a=n.tabContainerClass,s=n.labelContainerClass,o=n.labelItemClass,l=n.panelContainerClass,c=n.panelItemClass,u=n.keyboardSwitch,d=n.delayTriggerLatency,p=n.showHeaderLabelContainer,h=n.showFooterLabelContainer,y=n.triggerEvents,f=n.delayTriggerEvents,g=n.delayTriggerCancelEvents,b=this.tabContext,v=this.prevPosition,C=v.index,m=A(r,this.$data.targetPosition),w=m.index,S=r.length;return-1===w?(t=S>0?0:-1,this.currentPosition=A(r,t)):w<S?(t=w,this.currentPosition=m):(t=S-1,this.currentPosition=A(r,t)),C!==t&&this.$emit("switching",v,this.currentPosition),e.h(L,{entries:r,mode:i,tabContainerClass:a,labelContainerClass:s,labelItemClass:o,panelContainerClass:l,panelItemClass:c,keyboardSwitch:u,delayTriggerLatency:d,showHeaderLabelContainer:p,showFooterLabelContainer:h,triggerEvents:y,delayTriggerEvents:f,delayTriggerCancelEvents:g,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast,tabContext:b,currentIndex:t})},mounted:function(){this.updateCurrentPosition()},updated:function(){this.updateCurrentPosition()}};return{Label:o,Panel:l,name:"VueTabber",inheritAttrs:!1,props:u,render:function(){var t=this.$slots.default&&this.$slots.default(),n=this.$props,i=n.entries,a=n.triggerEvents,s=n.delayTriggerEvents,o=n.delayTriggerCancelEvents;return e.h(N,r(r({},this.$props),{},{entries:c(i,t),triggerEvents:h(a),delayTriggerEvents:h(s),delayTriggerCancelEvents:h(o)}))}}}));
