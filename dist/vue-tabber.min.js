!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueTabber=t()}(this,function(){"use strict";function O(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return a}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b={name:"TabLabel",props:{disabled:{type:[Boolean],default:!1},hidden:{type:[Boolean],default:!1}},render:function(){return null}},C={name:"TabPanel",render:function(){return null}};function s(e,t){var l,p,d,n=[];e&&e.length&&n.push.apply(n,g(e));var u=[],c=[],y=function(){n.push({label:u,panel:c,key:l,disabled:p,hidden:d})};return t&&t.length&&t.forEach(function(e){if((s=e).componentOptions&&s.componentOptions.Ctor&&s.componentOptions.Ctor.extendOptions===b){var t;u.length&&y(),(t=u=[]).push.apply(t,g(e.componentOptions.children)),c=[],l=e.key;var n=e.componentOptions.propsData,r=n.disabled,a=n.hidden;p=Boolean(r),d=Boolean(a)}else{var i;if(u.length||u.push(""),(o=e).componentOptions&&o.componentOptions.Ctor&&o.componentOptions.Ctor.extendOptions===C)(i=c).push.apply(i,g(e.componentOptions.children));else e.tag&&c.push(e)}var o,s}),u.length&&y(),n}var e=O({},{entries:{type:Array,default:[]},mode:{validator:function(e){return 0<=["horizontal","vertical"].indexOf(e)},default:"horizontal"},delayTriggerLatency:{type:[Number,String],default:200},activePosition:{type:[Number,String]},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}},{triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]}}),t=O({},e,{triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:Array}),n=/\s+/;function l(e){return e?(Array.isArray(e)?e:String(e).split(n)).filter(Boolean):[]}var o="active",k="inactive",_="disabled",j="hidden",v="header",T="footer";function $(e,t){var n={};return e.forEach(function(e){n[e]=t}),n}var r="__vue-tabber",a=Number.MAX_SAFE_INTEGER||9007199254740991,i=-1;function F(e,t,n){return"".concat(r,"__").concat(e,"__").concat(t,"__label__").concat(n)}function B(e,t){return"".concat(r,"__").concat(e,"__panel__").concat(t)}var S={name:"VueTabberLabelContainer",props:{entries:{type:Array},mode:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},delayTriggerLatency:{type:Number},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},tabContext:{type:Object},currentIndex:{type:Number},side:{type:String}},render:function(b){var e=this.$props,t=e.entries,n=e.mode,r=e.labelContainerClass,C=e.labelItemClass,f=e.delayTriggerLatency,h=e.triggerEvents,m=e.delayTriggerEvents,v=e.delayTriggerCancelEvents,T=e.fnSwitchTo,S=e.tabContext,E=e.currentIndex,x=e.side,a=[r,r+"-"+x,r+"-"+n,r+"-"+x+"-"+n],I=C+"-"+o,P=C+"-"+k,w=C+"-"+_,A=C+"-"+j,L=S.tabberId;return b("div",{class:a,attrs:{role:"tablist"}},t.map(function(e,t){var n,r,a,i=e.label,o=e.key,s=e.disabled,l=e.hidden,p={index:t,key:o};if(!s&&!l){var d,u=function(){clearTimeout(S.delayTimeout),T(p)},c=f<=0?u:function(){clearTimeout(S.delayTimeout),d=S.delayTimeout=setTimeout(u,f)};a=$(h,u),m&&m.length&&(r=$(m,c),n=$(v,function(){d===S.delayTimeout&&clearTimeout(d)}))}var y=t===E,g=[C];return g.push(y?I:P),s&&g.push(w),l&&g.push(A),b("div",{class:g,attrs:{tabIndex:0,id:F(L,x,t),role:"tab","aria-controls":B(L,t),"aria-selected":y,"aria-expanded":y},on:O({},n,r,a),key:o?"key-"+o:"index-"+t},i)}))}},E={name:"VueTabberPanelContainer",props:{entries:{type:Array},mode:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},panelItemActiveClass:{type:String},panelItemInactiveClass:{type:String},panelItemDisabledClass:{type:String},panelItemHiddenClass:{type:String},tabContext:{type:Object},currentIndex:{type:Number},refLabelSide:{type:String}},render:function(l){var e=this.$props,t=e.entries,n=e.mode,r=e.panelContainerClass,p=e.panelItemClass,a=e.tabContext,d=e.currentIndex,u=e.refLabelSide,i=[r,r+"-"+n],c=p+"-"+o,y=p+"-"+k,g=p+"-"+_,b=p+"-"+j,C=a.tabberId;return l("div",{class:i},t.map(function(e,t){var n=e.panel,r=e.key,a=e.disabled,i=e.hidden,o=t===d,s=[p];return s.push(o?c:y),a&&s.push(g),i&&s.push(b),l("div",{class:s,attrs:{id:B(C,t),role:"tabpanel","aria-labelledby":F(C,u,t),"aria-hidden":!o},key:r?"key-"+r:"index-"+t},n)}))}},x={name:"VueTabberTabContainer",props:{entries:{type:Array},mode:{type:String},tabContainerClass:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},delayTriggerLatency:{type:Number},showHeaderLabelContainer:{type:Boolean},showFooterLabelContainer:{type:Boolean},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},tabContext:{type:Object},currentIndex:{type:Number}},render:function(e){var t=this.$props,n=t.entries,r=t.mode,a=t.tabContainerClass,i=t.labelContainerClass,o=t.labelItemClass,s=t.panelContainerClass,l=t.panelItemClass,p=t.delayTriggerLatency,d=t.showHeaderLabelContainer,u=t.showFooterLabelContainer,c=t.triggerEvents,y=t.delayTriggerEvents,g=t.delayTriggerCancelEvents,b=t.fnSwitchTo,C=t.tabContext,f=t.currentIndex,h=[a,a+"-"+r],m=[];return d&&m.push(e(S,{props:{entries:n,mode:r,labelContainerClass:i,labelItemClass:o,delayTriggerLatency:p,triggerEvents:c,delayTriggerEvents:y,delayTriggerCancelEvents:g,fnSwitchTo:b,tabContext:C,currentIndex:f,side:v}})),m.push(e(E,{props:{entries:n,mode:r,panelContainerClass:s,panelItemClass:l,tabContext:C,currentIndex:f,refLabelSide:d||!u?v:T}})),u&&m.push(e(S,{props:{entries:n,mode:r,labelContainerClass:i,labelItemClass:o,delayTriggerLatency:p,triggerEvents:c,delayTriggerEvents:y,delayTriggerCancelEvents:g,fnSwitchTo:b,tabContext:C,currentIndex:f,side:T}})),e("div",{class:h},m)}},p={index:-1,key:void 0};function I(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||p}return p}var d={name:"VueTabberTab",props:t,created:function(){this.tabContext={tabberId:i=(i+1)%a,delayTimeout:0},this.prevPosition=p,this.currentPosition=p,this.updateTargetPosition()},data:function(){return{manageTargetPosition:!0,targetPosition:-1}},methods:{updateTargetPosition:function(){var e=this.activePosition;null==e||"number"==typeof e&&!isFinite(e)?this.manageTargetPosition=!0:(this.targetPosition=e,this.manageTargetPosition=!1)},updateCurrentPosition:function(){var e=this.prevPosition,t=this.currentPosition;e.index!==t.index&&this.$emit("switched",e,t),this.prevPosition=t},switchTo:function(e){return this.manageTargetPosition?this.targetPosition=e.index:this.$emit("updateActivePosition",e),e}},watch:{activePosition:function(e){this.updateTargetPosition(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(e){var t,n=this.$props,r=n.entries,a=n.mode,i=n.tabContainerClass,o=n.labelContainerClass,s=n.labelItemClass,l=n.panelContainerClass,p=n.panelItemClass,d=n.delayTriggerLatency,u=n.showHeaderLabelContainer,c=n.showFooterLabelContainer,y=n.triggerEvents,g=n.delayTriggerEvents,b=n.delayTriggerCancelEvents,C=this.tabContext,f=this.prevPosition,h=f.index,m=I(r,this.$data.targetPosition),v=m.index,T=r.length;return this.currentPosition=-1===v?I(r,t=0<T?0:-1):v<T?(t=v,m):I(r,t=T-1),h!==t&&this.$emit("switching",f,this.currentPosition),e(x,{props:{entries:r,mode:a,tabContainerClass:i,labelContainerClass:o,labelItemClass:s,panelContainerClass:l,panelItemClass:p,delayTriggerLatency:d,showHeaderLabelContainer:u,showFooterLabelContainer:c,triggerEvents:y,delayTriggerEvents:g,delayTriggerCancelEvents:b,fnSwitchTo:this.switchTo,tabContext:C,currentIndex:t}})},mounted:function(){this.updateCurrentPosition()},updated:function(){this.updateCurrentPosition()}};return{Label:b,Panel:C,name:"VueTabber",props:e,render:function(e){var t=this.$slots.default,n=this.$props,r=n.entries,a=n.triggerEvents,i=n.delayTriggerEvents,o=n.delayTriggerCancelEvents;return e(d,{props:O({},this.$props,{entries:s(r,t),triggerEvents:l(a),delayTriggerEvents:l(i),delayTriggerCancelEvents:l(o)}),on:this.$listeners})}}});
