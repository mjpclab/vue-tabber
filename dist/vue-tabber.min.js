!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueTabber=t()}(this,function(){"use strict";function w(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return a}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var C={name:"TabLabel",props:{disabled:{type:[Boolean],default:!1},hidden:{type:[Boolean],default:!1}},render:function(){return null}},b={name:"TabPanel",render:function(){return null}};function o(e){var l,p,d,t=[],u=[],y=[],g=function(){t.push({label:u,panel:y,key:l,disabled:p,hidden:d})};return e.forEach(function(e){if((s=e).componentOptions&&s.componentOptions.Ctor&&s.componentOptions.Ctor.extendOptions===C){var t;u.length&&g(),(t=u=[]).push.apply(t,c(e.componentOptions.children)),y=[],l=e.key;var n=e.componentOptions.propsData,r=n.disabled,a=n.hidden;p=Boolean(r),d=Boolean(a)}else{var i;if(u.length||u.push(""),(o=e).componentOptions&&o.componentOptions.Ctor&&o.componentOptions.Ctor.extendOptions===b)(i=y).push.apply(i,c(e.componentOptions.children));else e.tag&&y.push(e)}var o,s}),u.length&&g(),t}var e={mode:{validator:function(e){return 0<=["horizontal","vertical"].indexOf(e)},default:"horizontal"},delayTriggerLatency:{type:[Number,String],default:200},activePosition:{type:[Number,String]},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}},t={onUpdateTargetPosition:{type:Function}},n=w({},e,t,{triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]}}),r=w({},n,t,{entries:{type:Array,default:[]},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:Array}),a=/\s+/;function s(e){return e?(Array.isArray(e)?e:String(e).split(a)).filter(Boolean):[]}var i="active",A="inactive",O="disabled",L="hidden",v="header",T="footer";function k(e,t){var n={};return e.forEach(function(e){n[e]=t}),n}var E={name:"VueTabberLabelContainer",props:{entries:{type:Array},mode:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},delayTriggerLatency:{type:Number},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},tabContext:{type:Object},currentIndex:{type:Number},side:{type:String}},render:function(c){var e=this.$props,t=e.entries,n=e.mode,r=e.labelContainerClass,C=e.labelItemClass,b=e.delayTriggerLatency,h=e.triggerEvents,m=e.delayTriggerEvents,f=e.delayTriggerCancelEvents,v=e.fnSwitchTo,T=e.tabContext,E=e.currentIndex,a=e.side,S=C+"-"+i,x=C+"-"+A,P=C+"-"+O,I=C+"-"+L;return c("div",{class:[r,r+"-"+a,r+"-"+n,r+"-"+a+"-"+n]},t.map(function(e,t){var n,r,a,i=e.label,o=e.key,s=e.disabled,l=e.hidden,p={index:t,key:o};if(!s&&!l){var d,u=function(){clearTimeout(T.delayTimeout),v(p)},y=b<=0?u:function(){clearTimeout(T.delayTimeout),d=T.delayTimeout=setTimeout(u,b)};a=k(h,u),m&&m.length&&(r=k(m,y),n=k(f,function(){d===T.delayTimeout&&clearTimeout(d)}))}var g=[C];return g.push(t===E?S:x),s&&g.push(P),l&&g.push(I),c("div",{class:g,on:w({},n,r,a),key:o?"key-"+o:"index-"+t},i)}))}},S={name:"VueTabberPanelContainer",props:{entries:{type:Array},mode:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},panelItemActiveClass:{type:String},panelItemInactiveClass:{type:String},panelItemDisabledClass:{type:String},panelItemHiddenClass:{type:String},currentIndex:{type:Number}},render:function(s){var e=this.$props,t=e.entries,n=e.mode,r=e.panelContainerClass,l=e.panelItemClass,p=e.currentIndex,d=l+"-"+i,u=l+"-"+A,y=l+"-"+O,g=l+"-"+L;return s("div",{class:[r,r+"-"+n]},t.map(function(e,t){var n=e.panel,r=e.key,a=e.disabled,i=e.hidden,o=[l];return o.push(t===p?d:u),a&&o.push(y),i&&o.push(g),s("div",{class:o,key:r?"key-"+r:"index-"+t},n)}))}},x={name:"VueTabberTabContainer",props:{entries:{type:Array},mode:{type:String},tabContainerClass:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},delayTriggerLatency:{type:Number},showHeaderLabelContainer:{type:Boolean},showFooterLabelContainer:{type:Boolean},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},tabContext:{type:Object},currentIndex:{type:Number}},render:function(e){var t=this.$props,n=t.entries,r=t.mode,a=t.tabContainerClass,i=t.labelContainerClass,o=t.labelItemClass,s=t.panelContainerClass,l=t.panelItemClass,p=t.delayTriggerLatency,d=t.showHeaderLabelContainer,u=t.showFooterLabelContainer,y=t.triggerEvents,g=t.delayTriggerEvents,c=t.delayTriggerCancelEvents,C=t.fnSwitchTo,b=t.tabContext,h=t.currentIndex,m=[a,a+"-"+r],f=[];return d&&f.push(e(E,{props:{entries:n,mode:r,labelContainerClass:i,labelItemClass:o,delayTriggerLatency:p,triggerEvents:y,delayTriggerEvents:g,delayTriggerCancelEvents:c,fnSwitchTo:C,tabContext:b,currentIndex:h,side:v}})),f.push(e(S,{props:{entries:n,mode:r,panelContainerClass:s,panelItemClass:l,currentIndex:h}})),u&&f.push(e(E,{props:{entries:n,mode:r,labelContainerClass:i,labelItemClass:o,delayTriggerLatency:p,triggerEvents:y,delayTriggerEvents:g,delayTriggerCancelEvents:c,fnSwitchTo:C,tabContext:b,currentIndex:h,side:T}})),e("div",{class:m},f)}},l={index:-1,key:void 0};function P(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||l}return l}var p={name:"VueTabberTab",props:r,created:function(){this.tabContext={delayTimeout:0},this.prevPosition=l,this.currentPosition=l,this.updateTargetPosition()},data:function(){return{manageTargetPosition:!0,targetPosition:-1}},methods:{updateTargetPosition:function(){var e=this.activePosition;null==e||"number"==typeof e&&!isFinite(e)?this.manageTargetPosition=!0:(this.targetPosition=e,this.manageTargetPosition=!1)},updateCurrentPosition:function(){var e=this.prevPosition,t=this.currentPosition;e.index!==t.index&&this.$emit("switched",e,t),this.prevPosition=t},switchTo:function(e){var t=this.$props.onUpdateTargetPosition;return this.manageTargetPosition?t&&!1===t(e)||(this.targetPosition=e.index):this.$emit("updateActivePosition",e),e}},watch:{activePosition:function(e){this.updateTargetPosition(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(e){var t,n=this.$props,r=n.entries,a=n.mode,i=n.tabContainerClass,o=n.labelContainerClass,s=n.labelItemClass,l=n.panelContainerClass,p=n.panelItemClass,d=n.delayTriggerLatency,u=n.showHeaderLabelContainer,y=n.showFooterLabelContainer,g=n.triggerEvents,c=n.delayTriggerEvents,C=n.delayTriggerCancelEvents,b=this.tabContext,h=this.prevPosition,m=h.index,f=P(r,this.$data.targetPosition),v=f.index,T=r.length;return this.currentPosition=-1===v?P(r,t=0<T?0:-1):v<T?(t=v,f):P(r,t=T-1),m!==t&&this.$emit("switching",h,this.currentPosition),e(x,{props:{entries:r,mode:a,tabContainerClass:i,labelContainerClass:o,labelItemClass:s,panelContainerClass:l,panelItemClass:p,delayTriggerLatency:d,showHeaderLabelContainer:u,showFooterLabelContainer:y,triggerEvents:g,delayTriggerEvents:c,delayTriggerCancelEvents:C,fnSwitchTo:this.switchTo,tabContext:b,currentIndex:t}})},mounted:function(){this.updateCurrentPosition()},updated:function(){this.updateCurrentPosition()}};return{Label:C,Panel:b,name:"VueTabber",props:n,render:function(e){var t=this.$slots.default,n=this.$props,r=n.triggerEvents,a=n.delayTriggerEvents,i=n.delayTriggerCancelEvents;return e(p,{props:w({},this.$props,{entries:o(t),triggerEvents:s(r),delayTriggerEvents:s(a),delayTriggerCancelEvents:s(i)}),on:this.$listeners})}}});
