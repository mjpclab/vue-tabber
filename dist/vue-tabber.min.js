!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e=e||self)["vue-tabber"]=t(e.Vue)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={name:"VueTabberLabel",props:{disabled:{type:[Boolean],default:!1},hidden:{type:[Boolean],default:!1}}};var n={name:"VueTabberPanel"};function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=/[Vv]ue-?[Tt]abber-?[Ll]abel/,v=/[Vv]ue-?[Tt]abber-?[Pp]anel/;function b(e){var u,d,c,t=[],p=[],f=[],b=function(){t.push({label:p,panel:f,key:u,disabled:d,hidden:c})};return e.forEach(function(e,t){if((o=e).componentOptions&&m.test(o.componentOptions.tag)){var n;p.length&&b(),(n=p=[]).push.apply(n,h(e.componentOptions.children)),f=[],u=e.key;var a=e.componentOptions.propsData,r=a.disabled,i=a.hidden;d=Boolean(r),c=Boolean(i)}else{var l;if(p.length||p.push(""),(s=e).componentOptions&&v.test(s.componentOptions.tag))(l=f).push.apply(l,h(e.componentOptions.children));else e.tag&&f.push(e)}var s,o}),p.length&&b(),t}function A(e,t){var n={};return e&&e.length&&e.forEach(function(e){n[e]=t}),n}function o(e,t,n,a){var r,i,l,s=t.labelItemActiveClass,o=t.labelItemInactiveClass,u=t.labelItemDisabledClass,d=t.labelItemHiddenClass,c=t.$props,p=c.delayTriggerLatency,f=c.labelItemClass,b=t.$data,h=b.currentIndex,m=b.delayTimeout,v=b.validTriggerEvents,y=b.validDelayTriggerEvents,g=b.validDelayTriggerCancelEvents,C=n.label,I=n.key,T=n.disabled,x=n.hidden;if(!T&&!x){var O,w=function(){clearTimeout(m),t.switchTo(a)},E=p<=0?w:function(){clearTimeout(m),O=t.delayTimeout=setTimeout(w,p)};l=A(v,w),y&&y.length&&(i=A(y,E),r=A(g,function(){O===m&&clearTimeout(O)}))}var S=[f];return S.push(a===h?s:o),T&&S.push(u),x&&S.push(d),e("div",{class:S,on:function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,n,a;t=r,a=i[n=e],n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a})}return r}({},r,i,l),key:I?"key-"+I:"index-"+a},C)}function g(n,a,e,t){var r=e.map(function(e,t){return o(n,a,e,t)}),i=a.$props,l=i.mode,s=i.labelContainerClass;return n("div",{class:[s,s+"-"+t,s+"-"+l,s+"-"+t+"-"+l],key:"label-container-"+t},r)}var a=/\s+/;function r(e){if(e){var t=[],n=Array.isArray(e)?e:String(e).split(a);return n.length&&n.forEach(function(e){e&&t.push(e)}),t}}function i(e){return""===e||!isFinite(e)||isNaN(e)?-1:parseInt(e)<0?0:e}var l={name:"VueTabber",props:{mode:{validator:function(e){return 0<=["horizontal","vertical"].indexOf(e)},default:"horizontal"},triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]},delayTriggerLatency:{type:[Number,String],default:200},activeIndex:{type:[Number,String],default:0},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}},data:function(){return{count:0,targetIndex:i(this.activeIndex),currentIndex:-1,renderedIndex:-1,validTriggerEvents:r(this.triggerEvents),validDelayTriggerEvents:r(this.delayTriggerEvents),validDelayTriggerCancelEvents:r(this.delayTriggerCancelEvents),delayTimeout:void 0}},computed:{tabContainerModeClass:function(){return this.tabContainerClass+"-"+this.mode},labelItemActiveClass:function(){return this.labelItemClass+"-active"},labelItemInactiveClass:function(){return this.labelItemClass+"-inactive"},labelItemDisabledClass:function(){return this.labelItemClass+"-disabled"},labelItemHiddenClass:function(){return this.labelItemClass+"-hidden"},panelItemActiveClass:function(){return this.panelItemClass+"-active"},panelItemInactiveClass:function(){return this.panelItemClass+"-inactive"},panelItemDisabledClass:function(){return this.panelItemClass+"-disabled"},panelItemHiddenClass:function(){return this.panelItemClass+"-hidden"}},watch:{activeIndex:function(e){this.switchTo(e)}},methods:{switchTo:function(e){this.targetIndex=i(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(e){var t=this.$slots.default;if(t&&t.length){var n=b(t);this.count=n.length;var a,r,i,v,y,l,s,o,u,d,c,p=this.currentIndex,f=this.targetIndex>=this.count?this.count-1:this.targetIndex;return p!==f&&(this.currentIndex=f,this.$emit("switching",p,f),this.$emit("update:activeIndex",f)),a=e,i=n,o=(r=this).tabContainerModeClass,u=r.$props,d=u.showHeaderLabelContainer,c=u.showFooterLabelContainer,a("div",{class:[u.tabContainerClass,o],key:"tab-container"},[d&&g(a,r,i,"header"),(v=a,y=r,l=i.map(function(e,t){return n=v,a=y,i=t,l=(r=e).panel,s=r.key,o=r.disabled,u=r.hidden,d=a.panelItemActiveClass,c=a.panelItemInactiveClass,p=a.panelItemDisabledClass,f=a.panelItemHiddenClass,b=a.$props.panelItemClass,h=a.$data.currentIndex,(m=[b]).push(i===h?d:c),o&&m.push(p),u&&m.push(f),n("div",{class:m,key:s?"key-"+s:"index-"+i},l);var n,a,r,i,l,s,o,u,d,c,p,f,b,h,m}),s=y.$props.panelContainerClass,v("div",{class:[s],key:"panel-container"},l)),c&&g(a,r,i,"footer")])}},updated:function(){var e=this.renderedIndex,t=this.currentIndex;e!==t&&(this.renderedIndex=t,this.$emit("switched",e,t))}};function s(e){return e.component("VueTabberLabel",t),e.component("VueTabberPanel",n),e.component("VueTabber",l)}var u=s(e);return u.registerTo=s,u.LabelComponent=t,u.PanelComponent=n,u.TabberComponent=l,u});
