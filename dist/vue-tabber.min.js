!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VueTabber=t()}(this,(function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){switch(e){case!1:case"false":case void 0:case null:return!1}return!0}var o={name:"TabLabel",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1}},render:function(){return null}},s={name:"TabPanel",render:function(){return null}};function l(e,t){var n,i,l,c=[];e&&e.length&&c.push.apply(c,r(e));var u=[],p=[],d=function(){c.push({label:u,panel:p,key:n,disabled:i,hidden:l})};return t&&t.length&&t.forEach((function(e){if(function(e){return e.componentOptions&&e.componentOptions.Ctor&&e.componentOptions.Ctor.extendOptions===o}(e)){u.length&&d(),u=e.componentOptions.children,p=[],n=e.key;var t=e.componentOptions.propsData,c=t.disabled,y=t.hidden;i=a(c),l=a(y)}else{var h;if(u.length||u.push(""),function(e){return e.componentOptions&&e.componentOptions.Ctor&&e.componentOptions.Ctor.extendOptions===s}(e))(h=p).push.apply(h,r(e.componentOptions.children));else p.push(e)}})),u.length&&d(),c}var c=n(n({},{entries:{type:Array,default:function(){return[]}},mode:{validator:function(e){return["horizontal","vertical"].indexOf(e)>=0},default:"horizontal"},keyboardSwitch:{type:Boolean,default:!0},delayTriggerLatency:{type:[Number,String],default:200},activePosition:{type:[Number,String]},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}}),{},{triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]}}),u=n(n({},c),{},{triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:Array}),p=/\s+/;function d(e){return e?(Array.isArray(e)?e:String(e).split(p)).filter(Boolean):[]}var y="active",h="inactive",f="disabled",g="hidden",b="header",v="footer";function C(e,t){var n={};return e.forEach((function(e){n[e]=t})),n}var m="__vue-tabber",w=Number.MAX_SAFE_INTEGER||9007199254740991,S=-1;function T(e,t,n){return"".concat(m,"__").concat(e,"__").concat(t,"__label__").concat(n)}function x(e,t){return"".concat(m,"__").concat(e,"__panel__").concat(t)}var P={name:"VueTabberLabelContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},labelContainerClass:{type:String},labelItemClass:{type:String},delayTriggerLatency:{type:Number},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number},side:{type:String}},methods:{onKeyDown:function(e,t){var n,r=this.$props,i=r.fnSwitchTo,a=r.fnSwitchPrevious,o=r.fnSwitchNext,s=r.fnSwitchFirst,l=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=a();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=o();break;case"Tab":(n=e.shiftKey?a():o())&&e.preventDefault();break;case"Home":n=s();break;case"End":n=l();break;case" ":case"Enter":n=i(t)}if(n){var c=e.currentTarget.parentNode.childNodes[n.index];c&&c.focus&&c.focus(),e.preventDefault()}}},render:function(e){var t=this,r=this.$props,i=r.entries,a=r.mode,o=r.keyboardSwitch,s=r.labelContainerClass,l=r.labelItemClass,c=r.delayTriggerLatency,u=r.triggerEvents,p=r.delayTriggerEvents,d=r.delayTriggerCancelEvents,b=r.fnSwitchTo,v=r.tabContext,m=r.currentIndex,w=r.side,S=[s,s+"-"+w,s+"-"+a,s+"-"+w+"-"+a],P=l+"-"+y,E=l+"-"+h,I=l+"-"+f,O=l+"-"+g,k=v.tabberId;return e("div",{class:S,attrs:{role:"tablist"}},i.map((function(r,i){var a,s,y,h=r.label,f=r.key,g=r.disabled,S=r.hidden,L={index:i,key:f};if(!g&&!S){var A,F=function(){clearTimeout(v.delayTimeout),b(L)},N=c<=0?F:function(){clearTimeout(v.delayTimeout),A=v.delayTimeout=setTimeout(F,c)};y=C(u,F),p&&p.length&&(s=C(p,N),a=C(d,(function(){A===v.delayTimeout&&clearTimeout(A)})))}var _=i===m,j=[l];j.push(_?P:E),g&&j.push(I),S&&j.push(O);var $={tabIndex:0,id:T(k,w,i),role:"tab","aria-controls":x(k,i),"aria-selected":_,"aria-expanded":_},D=n(n(n({},a),s),y);return o&&(D.keydown=function(e){return t.onKeyDown(e,L)}),e("span",{class:j,attrs:$,on:D,key:f?"key-"+f:"index-"+i},h)})))}},E={name:"VueTabberPanelContainer",props:{entries:{type:Array},mode:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},panelItemActiveClass:{type:String},panelItemInactiveClass:{type:String},panelItemDisabledClass:{type:String},panelItemHiddenClass:{type:String},tabContext:{type:Object},currentIndex:{type:Number},refLabelSide:{type:String}},render:function(e){var t=this.$props,n=t.entries,r=t.mode,i=t.panelContainerClass,a=t.panelItemClass,o=t.tabContext,s=t.currentIndex,l=t.refLabelSide,c=[i,i+"-"+r],u=a+"-"+y,p=a+"-"+h,d=a+"-"+f,b=a+"-"+g,v=o.tabberId;return e("div",{class:c},n.map((function(t,n){var r=t.panel,i=t.key,o=t.disabled,c=t.hidden,y=n===s,h=[a];return h.push(y?u:p),o&&h.push(d),c&&h.push(b),e("div",{class:h,attrs:{id:x(v,n),role:"tabpanel","aria-labelledby":T(v,l,n),"aria-hidden":!y},key:i?"key-"+i:"index-"+n},r)})))}},I={name:"VueTabberTabContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},delayTriggerLatency:{type:Number},showHeaderLabelContainer:{type:Boolean},showFooterLabelContainer:{type:Boolean},tabContainerClass:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number}},render:function(e){var t=this.$props,n=t.entries,r=t.mode,i=t.keyboardSwitch,a=t.delayTriggerLatency,o=t.showHeaderLabelContainer,s=t.showFooterLabelContainer,l=t.tabContainerClass,c=t.labelContainerClass,u=t.labelItemClass,p=t.panelContainerClass,d=t.panelItemClass,y=t.triggerEvents,h=t.delayTriggerEvents,f=t.delayTriggerCancelEvents,g=t.fnSwitchTo,C=t.fnSwitchPrevious,m=t.fnSwitchNext,w=t.fnSwitchFirst,S=t.fnSwitchLast,T=t.tabContext,x=t.currentIndex,I=[l,l+"-"+r],O=[];return o&&O.push(e(P,{props:{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:u,delayTriggerLatency:a,triggerEvents:y,delayTriggerEvents:h,delayTriggerCancelEvents:f,fnSwitchTo:g,fnSwitchPrevious:C,fnSwitchNext:m,fnSwitchFirst:w,fnSwitchLast:S,tabContext:T,currentIndex:x,side:b}})),O.push(e(E,{props:{entries:n,mode:r,panelContainerClass:p,panelItemClass:d,tabContext:T,currentIndex:x,refLabelSide:o||!s?b:v}})),s&&O.push(e(P,{props:{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:u,delayTriggerLatency:a,triggerEvents:y,delayTriggerEvents:h,delayTriggerCancelEvents:f,fnSwitchTo:g,fnSwitchPrevious:C,fnSwitchNext:m,fnSwitchFirst:w,fnSwitchLast:S,tabContext:T,currentIndex:x,side:v}})),e("div",{class:I},O)}},O={index:-1,key:void 0};function k(e,t){if("number"==typeof t)return{index:t,key:e[t]&&e[t].key};if(isFinite(t)){var n=parseInt(t);return{index:n,key:e[n].key}}if(t){var r=void 0;return e.some((function(e,n){return e.key===t&&(r={index:n,key:e.key},!0)})),r||O}return O}var L=0,A=1,F={name:"VueTabberTab",props:u,created:function(){this.tabContext={tabberId:S=(S+1)%w,delayTimeout:0},this.prevPosition=O,this.currentPosition=O,this.updateTargetPosition()},data:function(){return{manageTargetPosition:!0,targetPosition:-1}},methods:{updateTargetPosition:function(){var e=this.activePosition;null==e||"number"==typeof e&&!isFinite(e)?this.manageTargetPosition=!0:(this.targetPosition=e,this.manageTargetPosition=!1)},updateCurrentPosition:function(){var e=this.prevPosition,t=this.currentPosition;e.index!==t.index&&this.$emit("switched",e,t),this.prevPosition=t},switchTo:function(e){return this.manageTargetPosition?this.targetPosition=e.index:this.$emit("updateActivePosition",e),e},_switchNeighbor:function(e,t,n){var r,i,a,o;n&&(r=n.includeDisabled,i=n.includeHidden,a=n.loop,o=n.exclude);var s=this.$props.entries,l=o?o.map((function(e){return k(s,e).index})):[],c=s.length,u=-1;a?u=e>=0&&e<c?c-1:c:t===L?u=e:t===A&&(u=c-e-1);for(var p=t===L?-1:1,d=1;d<=u;d++){var y=(e+d*p+c)%c;if(!(l.indexOf(y)>=0)){var h=s[y],f=h.disabled,g=h.hidden;if(!f&&!g||r&&!g||!f&&i||r&&i)return this.switchTo(k(s,y))}}},switchPrevious:function(e){return this._switchNeighbor(this.currentPosition.index,L,e)},switchNext:function(e){return this._switchNeighbor(this.currentPosition.index,A,e)},switchFirst:function(e){return this._switchNeighbor(-1,A,e)},switchLast:function(e){return this._switchNeighbor(this.$props.entries.length,L,e)}},watch:{activePosition:function(e){this.updateTargetPosition(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(e){var t,n=this.$props,r=n.entries,i=n.mode,a=n.tabContainerClass,o=n.labelContainerClass,s=n.labelItemClass,l=n.panelContainerClass,c=n.panelItemClass,u=n.keyboardSwitch,p=n.delayTriggerLatency,d=n.showHeaderLabelContainer,y=n.showFooterLabelContainer,h=n.triggerEvents,f=n.delayTriggerEvents,g=n.delayTriggerCancelEvents,b=this.tabContext,v=this.prevPosition,C=v.index,m=k(r,this.$data.targetPosition),w=m.index,S=r.length;return-1===w?(t=S>0?0:-1,this.currentPosition=k(r,t)):w<S?(t=w,this.currentPosition=m):(t=S-1,this.currentPosition=k(r,t)),C!==t&&this.$emit("switching",v,this.currentPosition),e(I,{props:{entries:r,mode:i,tabContainerClass:a,labelContainerClass:o,labelItemClass:s,panelContainerClass:l,panelItemClass:c,keyboardSwitch:u,delayTriggerLatency:p,showHeaderLabelContainer:d,showFooterLabelContainer:y,triggerEvents:h,delayTriggerEvents:f,delayTriggerCancelEvents:g,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast,tabContext:b,currentIndex:t}})},mounted:function(){this.updateCurrentPosition()},updated:function(){this.updateCurrentPosition()}};return{Label:o,Panel:s,name:"VueTabber",props:c,render:function(e){var t=this.$slots.default,r=this.$props,i=r.entries,a=r.triggerEvents,o=r.delayTriggerEvents,s=r.delayTriggerCancelEvents;return e(F,{props:n(n({},this.$props),{},{entries:l(i,t),triggerEvents:d(a),delayTriggerEvents:d(o),delayTriggerCancelEvents:d(s)})})}}}));
