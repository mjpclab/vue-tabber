!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueTabber=t()}(this,function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?t(Object(a),!0).forEach(function(e){var t,n,r;t=i,r=a[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y={name:"TabLabel",props:{disabled:{type:[Boolean],default:!1},hidden:{type:[Boolean],default:!1}},render:function(){return null}},h={name:"TabPanel",render:function(){return null}};function s(e,t){var o,s,l,n=[];e&&e.length&&n.push.apply(n,d(e));function c(){n.push({label:p,panel:u,key:o,disabled:s,hidden:l})}var p=[],u=[];return t&&t.length&&t.forEach(function(e){if((a=e).componentOptions&&a.componentOptions.Ctor&&a.componentOptions.Ctor.extendOptions===y){p.length&&c(),(p=[]).push.apply(p,d(e.componentOptions.children)),u=[],o=e.key;var t=e.componentOptions.propsData,n=t.disabled,r=t.hidden;s=Boolean(n),l=Boolean(r)}else{if(p.length||p.push(""),(i=e).componentOptions&&i.componentOptions.Ctor&&i.componentOptions.Ctor.extendOptions===h)u.push.apply(u,d(e.componentOptions.children));else u.push(e)}var i,a}),p.length&&c(),n}var e=_({},{entries:{type:Array,default:function(){return[]}},mode:{validator:function(e){return 0<=["horizontal","vertical"].indexOf(e)},default:"horizontal"},keyboardSwitch:{type:Boolean,default:!0},delayTriggerLatency:{type:[Number,String],default:200},activePosition:{type:[Number,String]},tabContainerClass:{type:String,default:"tab-container"},labelContainerClass:{type:String,default:"label-container"},showHeaderLabelContainer:{type:Boolean,default:!0},showFooterLabelContainer:{type:Boolean,default:!1},labelItemClass:{type:String,default:"label-item"},panelContainerClass:{type:String,default:"panel-container"},panelItemClass:{type:String,default:"panel-item"}},{triggerEvents:{type:[Array,String],default:"click"},delayTriggerEvents:{type:[Array,String]},delayTriggerCancelEvents:{type:[Array,String]}}),n=_({},e,{triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:Array}),r=/\s+/;function l(e){return e?(Array.isArray(e)?e:String(e).split(r)).filter(Boolean):[]}var o="active",j="inactive",$="disabled",D="hidden",P="header",E="footer";function B(e,t){var n={};return e.forEach(function(e){n[e]=t}),n}var i="__vue-tabber",a=Number.MAX_SAFE_INTEGER||9007199254740991,c=-1;function H(e,t,n){return"".concat(i,"__").concat(e,"__").concat(t,"__label__").concat(n)}function V(e,t){return"".concat(i,"__").concat(e,"__panel__").concat(t)}var I={name:"VueTabberLabelContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},labelContainerClass:{type:String},labelItemClass:{type:String},delayTriggerLatency:{type:Number},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number},side:{type:String}},methods:{onKeyDown:function(e,t){var n,r=this.$props,i=r.fnSwitchTo,a=r.fnSwitchPrevious,o=r.fnSwitchNext,s=r.fnSwitchFirst,l=r.fnSwitchLast;if(e.key)switch(e.key){case"Up":case"Left":case"ArrowUp":case"ArrowLeft":n=a();break;case"Down":case"Right":case"ArrowDown":case"ArrowRight":n=o();break;case"Tab":(n=(e.shiftKey?a:o)())&&e.preventDefault();break;case"Home":n=s();break;case"End":n=l();break;case" ":case"Enter":n=i(t)}if(n){var c=e.currentTarget.parentNode.childNodes[n.index];c&&c.focus&&c.focus(),e.preventDefault()}}},render:function(b){var C=this,e=this.$props,t=e.entries,n=e.mode,v=e.keyboardSwitch,r=e.labelContainerClass,m=e.labelItemClass,w=e.delayTriggerLatency,S=e.triggerEvents,T=e.delayTriggerEvents,x=e.delayTriggerCancelEvents,P=e.fnSwitchTo,E=e.tabContext,I=e.currentIndex,k=e.side,i=[r,r+"-"+k,r+"-"+n,r+"-"+k+"-"+n],L=m+"-"+o,O=m+"-"+j,A=m+"-"+$,F=m+"-"+D,N=E.tabberId;return b("div",{class:i,attrs:{role:"tablist"}},t.map(function(e,t){var n,r,i,a=e.label,o=e.key,s=e.disabled,l=e.hidden,c={index:t,key:o};if(!s&&!l){var p,u=function(){clearTimeout(E.delayTimeout),P(c)},d=w<=0?u:function(){clearTimeout(E.delayTimeout),p=E.delayTimeout=setTimeout(u,w)};i=B(S,u),T&&T.length&&(r=B(T,d),n=B(x,function(){p===E.delayTimeout&&clearTimeout(p)}))}var y=t===I,h=[m];h.push(y?L:O),s&&h.push(A),l&&h.push(F);var g={tabIndex:0,id:H(N,k,t),role:"tab","aria-controls":V(N,t),"aria-selected":y,"aria-expanded":y},f=_({},n,{},r,{},i);return v&&(f.keydown=function(e){return C.onKeyDown(e,c)}),b("span",{class:h,attrs:g,on:f,key:o?"key-"+o:"index-"+t},a)}))}},k={name:"VueTabberPanelContainer",props:{entries:{type:Array},mode:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},panelItemActiveClass:{type:String},panelItemInactiveClass:{type:String},panelItemDisabledClass:{type:String},panelItemHiddenClass:{type:String},tabContext:{type:Object},currentIndex:{type:Number},refLabelSide:{type:String}},render:function(l){var e=this.$props,t=e.entries,n=e.mode,r=e.panelContainerClass,c=e.panelItemClass,i=e.tabContext,p=e.currentIndex,u=e.refLabelSide,a=[r,r+"-"+n],d=c+"-"+o,y=c+"-"+j,h=c+"-"+$,g=c+"-"+D,f=i.tabberId;return l("div",{class:a},t.map(function(e,t){var n=e.panel,r=e.key,i=e.disabled,a=e.hidden,o=t===p,s=[c];return s.push(o?d:y),i&&s.push(h),a&&s.push(g),l("div",{class:s,attrs:{id:V(f,t),role:"tabpanel","aria-labelledby":H(f,u,t),"aria-hidden":!o},key:r?"key-"+r:"index-"+t},n)}))}},T={name:"VueTabberTabContainer",props:{entries:{type:Array},mode:{type:String},keyboardSwitch:{type:Boolean},delayTriggerLatency:{type:Number},showHeaderLabelContainer:{type:Boolean},showFooterLabelContainer:{type:Boolean},tabContainerClass:{type:String},labelContainerClass:{type:String},labelItemClass:{type:String},panelContainerClass:{type:String},panelItemClass:{type:String},triggerEvents:{type:Array},delayTriggerEvents:{type:Array},delayTriggerCancelEvents:{type:Array},fnSwitchTo:{type:Function},fnSwitchPrevious:{type:Function},fnSwitchNext:{type:Function},fnSwitchFirst:{type:Function},fnSwitchLast:{type:Function},tabContext:{type:Object},currentIndex:{type:Number}},render:function(e){var t=this.$props,n=t.entries,r=t.mode,i=t.keyboardSwitch,a=t.delayTriggerLatency,o=t.showHeaderLabelContainer,s=t.showFooterLabelContainer,l=t.tabContainerClass,c=t.labelContainerClass,p=t.labelItemClass,u=t.panelContainerClass,d=t.panelItemClass,y=t.triggerEvents,h=t.delayTriggerEvents,g=t.delayTriggerCancelEvents,f=t.fnSwitchTo,b=t.fnSwitchPrevious,C=t.fnSwitchNext,v=t.fnSwitchFirst,m=t.fnSwitchLast,w=t.tabContext,S=t.currentIndex,T=[l,l+"-"+r],x=[];return o&&x.push(e(I,{props:{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:p,delayTriggerLatency:a,triggerEvents:y,delayTriggerEvents:h,delayTriggerCancelEvents:g,fnSwitchTo:f,fnSwitchPrevious:b,fnSwitchNext:C,fnSwitchFirst:v,fnSwitchLast:m,tabContext:w,currentIndex:S,side:P}})),x.push(e(k,{props:{entries:n,mode:r,panelContainerClass:u,panelItemClass:d,tabContext:w,currentIndex:S,refLabelSide:o||!s?P:E}})),s&&x.push(e(I,{props:{entries:n,mode:r,keyboardSwitch:i,labelContainerClass:c,labelItemClass:p,delayTriggerLatency:a,triggerEvents:y,delayTriggerEvents:h,delayTriggerCancelEvents:g,fnSwitchTo:f,fnSwitchPrevious:b,fnSwitchNext:C,fnSwitchFirst:v,fnSwitchLast:m,tabContext:w,currentIndex:S,side:E}})),e("div",{class:T},x)}},p={index:-1,key:void 0};function x(e,n){if("number"==typeof n)return{index:n,key:e[n]&&e[n].key};if(isFinite(n)){var t=parseInt(n);return{index:t,key:e[t].key}}if(n){var r=void 0;return e.some(function(e,t){return e.key===n&&(r={index:t,key:e.key},!0)}),r||p}return p}var b=0,C=1,u={name:"VueTabberTab",props:n,created:function(){this.tabContext={tabberId:c=(c+1)%a,delayTimeout:0},this.prevPosition=p,this.currentPosition=p,this.updateTargetPosition()},data:function(){return{manageTargetPosition:!0,targetPosition:-1}},methods:{updateTargetPosition:function(){var e=this.activePosition;null==e||"number"==typeof e&&!isFinite(e)?this.manageTargetPosition=!0:(this.targetPosition=e,this.manageTargetPosition=!1)},updateCurrentPosition:function(){var e=this.prevPosition,t=this.currentPosition;e.index!==t.index&&this.$emit("switched",e,t),this.prevPosition=t},switchTo:function(e){return this.manageTargetPosition?this.targetPosition=e.index:this.$emit("updateActivePosition",e),e},_switchNeighbor:function(e,t,n){var r,i,a,o;n&&(r=n.includeDisabled,i=n.includeHidden,a=n.loop,o=n.exclude);var s=this.$props.entries,l=o?o.map(function(e){return x(s,e).index}):[],c=s.length,p=-1;a?p=0<=e&&e<c?c-1:c:t===b?p=e:t===C&&(p=c-e-1);for(var u=t===b?-1:1,d=1;d<=p;d++){var y=(e+d*u+c)%c;if(!(0<=l.indexOf(y))){var h=s[y],g=h.disabled,f=h.hidden;if(!g&&!f||r&&!f||!g&&i||r&&i)return this.switchTo(x(s,y))}}},switchPrevious:function(e){return this._switchNeighbor(this.currentPosition.index,b,e)},switchNext:function(e){return this._switchNeighbor(this.currentPosition.index,C,e)},switchFirst:function(e){return this._switchNeighbor(-1,C,e)},switchLast:function(e){return this._switchNeighbor(this.$props.entries.length,b,e)}},watch:{activePosition:function(e){this.updateTargetPosition(e)}},beforeUnmount:function(){clearTimeout(this.delayTimeout)},render:function(e){var t,n=this.$props,r=n.entries,i=n.mode,a=n.tabContainerClass,o=n.labelContainerClass,s=n.labelItemClass,l=n.panelContainerClass,c=n.panelItemClass,p=n.keyboardSwitch,u=n.delayTriggerLatency,d=n.showHeaderLabelContainer,y=n.showFooterLabelContainer,h=n.triggerEvents,g=n.delayTriggerEvents,f=n.delayTriggerCancelEvents,b=this.tabContext,C=this.prevPosition,v=C.index,m=x(r,this.$data.targetPosition),w=m.index,S=r.length;return-1===w?(t=0<S?0:-1,this.currentPosition=x(r,t)):w<S?(t=w,this.currentPosition=m):(t=S-1,this.currentPosition=x(r,t)),v!==t&&this.$emit("switching",C,this.currentPosition),e(T,{props:{entries:r,mode:i,tabContainerClass:a,labelContainerClass:o,labelItemClass:s,panelContainerClass:l,panelItemClass:c,keyboardSwitch:p,delayTriggerLatency:u,showHeaderLabelContainer:d,showFooterLabelContainer:y,triggerEvents:h,delayTriggerEvents:g,delayTriggerCancelEvents:f,fnSwitchTo:this.switchTo,fnSwitchPrevious:this.switchPrevious,fnSwitchNext:this.switchNext,fnSwitchFirst:this.switchFirst,fnSwitchLast:this.switchLast,tabContext:b,currentIndex:t}})},mounted:function(){this.updateCurrentPosition()},updated:function(){this.updateCurrentPosition()}};return{Label:y,Panel:h,name:"VueTabber",props:e,render:function(e){var t=this.$slots.default,n=this.$props,r=n.entries,i=n.triggerEvents,a=n.delayTriggerEvents,o=n.delayTriggerCancelEvents;return e(u,{props:_({},this.$props,{entries:s(r,t),triggerEvents:l(i),delayTriggerEvents:l(a),delayTriggerCancelEvents:l(o)}),on:this.$listeners})}}});
